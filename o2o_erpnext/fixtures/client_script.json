[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Branch",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.070530",
  "module": "o2o ErpNext",
  "name": "Branch",
  "script": "frappe.ui.form.on('Branch', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_parent_branch\", function() {\n        return {\n            \"filters\": {\n                \"custom_child_branch\": 0,\n            }\n        };\n    });\n\t}\n})\n\n// frappe.ui.form.on('Shipping Address Details', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t\tfrm.set_query(\"city\", function() {\n//         return {\n//             \"filters\": {\n//                 city in state\n//             }\n//         };\n//     });\n// \t}\n// })\n\nfrappe.ui.form.on('Branch',  {\n    refresh: function(frm) {\n        frm.set_query(\"city\", \"custom_shipping_address_details\", function (doc, cdt, cdn) {\n          return {\n            \"filters\": {\n              \"State\": \"Maharashtra\",\n            },\n          };\n        });\n    }\n});\n//Remove Form View Menu contents\nfrappe.ui.form.on('Branch', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Item",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.463326",
  "module": "o2o ErpNext",
  "name": "Item Master",
  "script": "frappe.ui.form.on('Item', {\n    validate: function(frm) {\n        if (frm.doc.custom_o2o_rates && frm.doc.custom_gst_slab_percentage) {\n            var o2o_rates = parseFloat(frm.doc.custom_o2o_rates) || 0;\n            var gst_percentage = parseFloat(frm.doc.custom_gst_slab_percentage) || 0;\n            \n            var gst_amount = o2o_rates * gst_percentage / 100;\n            amt_in_gst = gst_amount + o2o_rates;\n            frm.set_value('custom_amt_in_gst',amt_in_gst);\n            frm.refresh_field('custom_amt_in_gst');\n        }\n    },\n    custom_o2o_rates: function(frm) {\n        console.log(frm.doc.custom_o2o_rates);\n        if (frm.doc.custom_o2o_rates && frm.doc.custom_gst_slab_percentage) {\n            var o2o_rates = parseFloat(frm.doc.custom_o2o_rates) || 0;\n            var gst_percentage = parseFloat(frm.doc.custom_gst_slab_percentage) || 0;\n            \n            var gst_amount = o2o_rates * gst_percentage / 100;\n            amt_in_gst = gst_amount + o2o_rates;\n            frm.set_value('custom_amt_in_gst',amt_in_gst);\n            frm.refresh_field('custom_amt_in_gst');\n        }\n    },\n    custom_gst_slab_percentage: function(frm) {\n        if (frm.doc.custom_o2o_rates && frm.doc.custom_gst_slab_percentage) {\n            var o2o_rates = parseFloat(frm.doc.custom_o2o_rates) || 0;\n            var gst_percentage = parseFloat(frm.doc.custom_gst_slab_percentage) || 0;\n            \n            var gst_amount = o2o_rates * gst_percentage / 100;\n            amt_in_gst = gst_amount + o2o_rates;\n            frm.set_value('custom_amt_in_gst',amt_in_gst);\n            frm.refresh_field('custom_amt_in_gst');\n        }\n    }\n    \n});\n\nfrappe.ui.form.on(\"Item\", {\nrefresh:function(frm) {\n    $('.form-attachments').hide()\n    $('.form-tags').hide()\n    $('.form-share').hide()\n    $('.form-attachments').hide()\n  }\n});\n\nfrappe.ui.form.on('Item', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_sub_category\", function() {\n        return {\n            \"filters\": {\n                \"is_group\": 0,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Item', {\n    refresh(frm) {\n        setTimeout(() => {\n            // frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Stock Projected Qty', 'View');\n            // frm.remove_custom_button('Stock Ledger', 'View');\n            // frm.remove_custom_button('Stock Balance', 'View');\n            frm.remove_custom_button('Add / Edit Prices', 'Actions');\n            frm.remove_custom_button('Duplicate');\n            }, 10);\n    }\n});\n//Remove Form View Menu contents\nfrappe.ui.form.on('Item', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Repeat\"],\\\n            [data-label=\"New%20Item\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Order",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.132082",
  "module": "o2o ErpNext",
  "name": "Purchase Order",
  "script": "frappe.ui.form.on('Purchase Order', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_branch\", function() {\n        return {\n            \"filters\": {\n                \"custom_child_branch\": 1,\n            }\n        };\n    });\n\t}\n});\n\nfrappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm) {\n    cur_frm.set_value(\"custom_created_user\", frm.doc.owner);\n});\n\nfrappe.ui.form.on('Purchase Order', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_vendor\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 1,\n            }\n        };\n    });\n\t}\n});\n\nfrappe.ui.form.on('Purchase Order', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"supplier\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 0,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Order', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"supplier\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 0,\n            }\n        };\n    });\n\t}\n});\n\nfrappe.ui.form.on(\"Purchase Order\", {\n    refresh:function(frm) {\n        $('.form-attachments').hide();\n        $('.form-tags').hide();\n        $('.form-share').hide();\n        $('.form-attachments').hide();\n    }\n});\n\n\nfrappe.ui.form.on('Purchase Order', {\n\trefresh(frm) {\n\t\t// your code here\n\t\t    frm.set_query(\"supplier_address\", function() {\n            return {\n                \"filters\": {\n                    \"address_type\":\"Billing\" ,\n                    // \"custom_branch\": doc.custom_branch ,\n                    \"name\": doc.supplier ,\n                }\n            };\n        });\n\t}\n});\n\n// frappe.ui.form.on('Purchase Order', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t\t    frm.set_query(\"shipping_address\", function() {\n//             return {\n//                 \"filters\": {\n//                     \"address_type\":\"Shipping\" ,\n//                     // \"custom_branch\": doc.custom_branch ,\n//                     \"name\": doc.supplier ,\n//                 }\n//             };\n//         });\n// \t}\n// });\n\n\n\nfrappe.ui.form.on('Purchase Order', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        // This function will run when the form is loaded\n        // You can initialize fields or set default values here if needed\n        let supplier = frm.doc.supplier;\n        if (supplier) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = supplier.substring(0, 3).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_supplier_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_supplier_code', '');\n        }\n    },\n    supplier: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let supplier = frm.doc.supplier;\n        if (supplier) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = supplier.substring(0, 3).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_supplier_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_supplier_code', '');\n        }\n    }\n});\n\n\nfrappe.ui.form.on('Purchase Order', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n            let transaction_date = frm.doc.transaction_date;\n            \n            let date = new Date(transaction_date);\n            let days = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\n            // Get the day of the week\n            let dayOfWeek = days[date.getDay()];\n\n\n            let fullYear = date.getFullYear();\n            // Extract the last two digits of the year\n            let yearYY = fullYear.toString().slice(-2);\n            let order_code = \"POA\"+dayOfWeek+yearYY;\n            if(frm.doc.docstatus === 0) {\n                frm.set_value('custom_order_code', order_code);    \n            }\n            \n\n    },\n    transaction_date: function (frm) {\n        let transaction_date = frm.doc.transaction_date;\n            let date = new Date(transaction_date);\n            let days = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\n            // Get the day of the week\n            let dayOfWeek = days[date.getDay()];\n            let fullYear = date.getFullYear();\n            // Extract the last two digits of the year\n            let yearYY = fullYear.toString().slice(-2);\n            let order_code = \"POA\"+dayOfWeek+yearYY;\n            if(frm.doc.docstatus === 0) {\n                frm.set_value('custom_order_code', order_code);\n            }\n\n    }\n});\n\nfrappe.ui.form.on('Purchase Order', {\n    // refresh: function(frm) {\n    //     calculate_and_set_gst_value(frm);\n    // },\n    onload: function(frm) {\n        calculate_and_set_gst_value(frm);\n    },\n    // items_on_form_rendered: function(frm) {\n    //     frm.fields_dict.items.grid.on('change', function (e) {\n    //         calculate_and_set_gst_value(frm);\n    //     });\n    // },\n    validate: function(frm) {\n        calculate_and_set_gst_value(frm);\n    }\n});\n\n\nfunction calculate_and_set_gst_value(frm) {\n    // console.log(frm.doc.items)\n    $.each(frm.doc.items || [], function (i, item) {\n        let total_sgst = 0;\n        let total_cgst = 0;\n        let total_igst = 0;\n        // console.log(item)\n        // if (item.taxes) {\n        //     $.each(item.taxes || [], function (j, tax) {\n        //         // console.log(item)\n        //         if (tax.account_head) {\n        //             if (tax.account_head.includes('SGST')) {\n        //                 total_sgst += flt(tax.tax_amount);\n        //             } else if (tax.account_head.includes('CGST')) {\n        //                 total_cgst += flt(tax.tax_amount);\n        //             } else if (tax.account_head.includes('IGST')) {\n        //                 total_igst += flt(tax.tax_amount);\n        //             }\n        //         }\n        //     });\n        //     // console.log(item)\n            \n        // }\n        \n        if (item.sgst_amount == null) { // This checks for both null and undefined\n            item.sgst_amount = 0;\n        }\n        \n        if (item.cgst_amount == null) { // This checks for both null and undefined\n            item.cgst_amount = 0;\n        }\n        \n        if (item.igst_amount == null) { // This checks for both null and undefined\n            item.igst_amount = 0;\n        }\n        \n        if (item.net_amount == null) { // This checks for both null and undefined\n            item.net_amount = 0;\n        }\n\n        let total_tax = 0;\n        let grand_total = 0;\n        // frappe.msgprint(item.sgst_amount +\" => \"+ item.cgst_amount+\"=>\" + item.igst_amount)\n        total_tax = parseFloat(item.sgst_amount) + parseFloat(item.cgst_amount) + parseFloat(item.igst_amount);\n        \n        // console.log( \"total taxt\"+total_tax)\n        grand_total = parseFloat(item.net_amount) + parseFloat(total_tax);\n        console.log(grand_total);\n        // console.log(\"grand total \" + grand_total)\n        // console.log(\"herere\")\n        // console.log(gst_value);\n        //Set the GST value in the custom field of the item\n        frappe.model.set_value(item.doctype, item.name, 'custom_gstn_value', total_tax);\n        frappe.model.set_value(item.doctype, item.name, 'custom_grand_total', grand_total);\n        frm.refresh_field('items');\n        \n    });\n}\n// frappe.ui.form.on('Purchase Order', {\n// \trefresh: function(frm) {\n// \t    $('span.sidebar-toggle-btn').hide();\n// \t\t$('.col-lg-2.layout-side-section').hide();\n// \t}\n// });\n\n\nfrappe.ui.form.on('Purchase Order', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Product Bundle', 'Get Items From');\n            frm.remove_custom_button('Material Request', 'Get Items From');\n            frm.remove_custom_button('Supplier Quotation', 'Get Items From');\n            frm.remove_custom_button('Update Items');\n            frm.remove_custom_button('Payment', 'Create');\n            frm.remove_custom_button('Payment Request', 'Create');\n            frm.remove_custom_button('Purchase Invoice', 'Create');\n            frm.remove_custom_button('Link to Material Request', 'Tools');\n            frm.remove_custom_button('Update Rate as per Last Purchase', 'Tools');\n            frm.remove_custom_button('Print');\n            frm.remove_custom_button('Update Items');\n            frm.remove_custom_button('Download');\n            frm.remove_custom_button('Hold', 'Status');\n            frm.remove_custom_button('Close', 'Status');\n        }, 10);\n    }\n});\n\n//Remove Form View Menu contents\nfrappe.ui.form.on('Purchase Order', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Repeat\"],\\\n            [data-label=\"New%20Purchase%20Order\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});\n\n\n\n\n\n\n\n\n\n//Remove form view menu contents\n// frappe.ui.form.on('Purchase Order', {\n//     refresh(frm) {\n//         frm.menu.find('[data-label=\"Print\"]').parent().hide();\n//         frm.menu.find('[data-label=\"Duplicate\"]').parent().remove();\n//     }\n//     })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Receipt",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.155320",
  "module": "o2o ErpNext",
  "name": "Purchase Receipt",
  "script": "frappe.ui.form.on('Purchase Receipt', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_vendor\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 1,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Receipt', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"supplier\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 0,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        // This function will run when the form is loaded\n        // You can initialize fields or set default values here if needed\n        let supplier = frm.doc.supplier;\n        if (supplier) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = supplier.substring(0, 3).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_supplier_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_supplier_code', '');\n        }\n    },\n    supplier: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let supplier = frm.doc.supplier;\n        if (supplier) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = supplier.substring(0, 3).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_supplier_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_supplier_code', '');\n        }\n    }\n});\n\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        // This function will run when the form is loaded\n        // You can initialize fields or set default values here if needed\n        let custom_vendor = frm.doc.custom_vendor;\n        if (custom_vendor) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = custom_vendor.substring(0, 3).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_vendor_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_vendor_code', '');\n        }\n    },\n    custom_vendor: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let custom_vendor = frm.doc.custom_vendor;\n        if (custom_vendor) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = custom_vendor.substring(0, 3).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_vendor_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_vendor_code', '');\n        }\n    }\n});\n\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        if (!frm.doc.fiscal_year) {\n            // Fetch the current fiscal year based on the current date\n            frappe.call({\n                method: 'frappe.client.get_list',\n                args: {\n                    doctype: 'Fiscal Year',\n                    filters: {\n                        'year_start_date': ['<=', frappe.datetime.get_today()],\n                        'year_end_date': ['>=', frappe.datetime.get_today()]\n                    },\n                    fields: ['name']\n                },\n                callback: function(r) {\n                    if (r.message && r.message.length > 0) {\n                        var fiscal_year = r.message[0].name;\n                        var start_year = fiscal_year.split('-')[0];\n                        var end_year = fiscal_year.split('-')[1];\n                        display_fiscal_year = start_year.substring(2) + '-' + end_year.substring(2);    \n                        console.log(\"==>\" + fiscal_year)\n                        frm.set_value('custom_fiscal_year', display_fiscal_year);\n                    }\n                }\n            });\n        }\n    }\n});\n\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh(frm) {\n        setTimeout(() => {\n            // frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Purchase Invoice', 'Get Items From');\n            frm.remove_custom_button('Purchase Order', 'Get Items From');\n            // frm.remove_custom_button('Preview');\n            frm.remove_custom_button('Stock Ledger', 'Preview');\n            frm.remove_custom_button('Accounting Ledger', 'Preview');\n            // frm.remove_custom_button('View');\n            frm.remove_custom_button('Asset', 'View');\n            frm.remove_custom_button('Stock Ledger', 'View');\n            frm.remove_custom_button('Accounting Ledger', 'View');\n            frm.remove_custom_button('Asset Movement', 'View');\n            frm.remove_custom_button('Purchase Return', 'Create');\n            frm.remove_custom_button('Make Stock Entry', 'Create');\n            // frm.remove_custom_button('Purchase Invoice', 'Create');\n            frm.remove_custom_button('Retention Stock Entry', 'Create');\n            frm.remove_custom_button('Close', 'Status');\n        }, 10);\n    }\n});\n//Remove Form View Menu contents\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Repeat\"],\\\n            [data-label=\"New%20Purchase%20Receipt\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});\n\n\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n    },\n    custom_weight_in_kg: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let custom_weight_in_kg = frm.doc.custom_weight_in_kg;\n        let custom_rate_per_kg = frm.doc.custom_rate_per_kg;\n        let tax_percent = frm.doc.custom_freight_tax_rate_;\n        let total_freight_amount = 0;\n        let freight_tax_amount = 0;\n        if(custom_weight_in_kg==\"\") {\n            custom_weight_in_kg = 0;\n        }\n        \n        if(custom_rate_per_kg==\"\") {\n            custom_rate_per_kg = 0;\n        }\n        \n        if(tax_percent==\"\") {\n            tax_percent = 0;\n        }\n        \n        let freight_amount = 0;\n        freight_amount = custom_weight_in_kg * custom_rate_per_kg;\n        \n        freight_tax_amount = freight_amount * tax_percent /100;\n        total_freight_amount = freight_amount + freight_tax_amount;\n        \n        frm.set_value('custom_freight_amount', freight_amount);\n        frm.set_value('custom_total_freight_amount', total_freight_amount);\n    },\n    custom_rate_per_kg: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let custom_weight_in_kg = frm.doc.custom_weight_in_kg;\n        let custom_rate_per_kg = frm.doc.custom_rate_per_kg;\n        let tax_percent = frm.doc.custom_freight_tax_rate_;\n        let total_freight_amount = 0;\n        let freight_tax_amount = 0;\n        if(custom_weight_in_kg==\"\") {\n            custom_weight_in_kg = 0;\n        }\n        \n        if(custom_rate_per_kg==\"\") {\n            custom_rate_per_kg = 0;\n        }\n        \n        if(tax_percent==\"\") {\n            tax_percent = 0;\n        }\n        \n        let freight_amount = 0;\n        freight_amount = custom_weight_in_kg * custom_rate_per_kg;\n        \n        freight_tax_amount = freight_amount * tax_percent /100;\n        total_freight_amount = freight_amount + freight_tax_amount;\n        \n        frm.set_value('custom_freight_amount', freight_amount);\n        frm.set_value('custom_total_freight_amount', total_freight_amount);\n        \n    },\n    custom_freight_tax_rate_: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let custom_weight_in_kg = frm.doc.custom_weight_in_kg;\n        let custom_rate_per_kg = frm.doc.custom_rate_per_kg;\n        let tax_percent = frm.doc.custom_freight_tax_rate_;\n        let total_freight_amount = 0;\n        let freight_tax_amount = 0;\n        if(custom_weight_in_kg==\"\") {\n            custom_weight_in_kg = 0;\n        }\n        \n        if(custom_rate_per_kg==\"\") {\n            custom_rate_per_kg = 0;\n        }\n        \n        if(tax_percent==\"\") {\n            tax_percent = 0;\n        }\n        \n        let freight_amount = 0;\n        freight_amount = custom_weight_in_kg * custom_rate_per_kg;\n        \n        freight_tax_amount = freight_amount * tax_percent /100;\n        total_freight_amount = freight_amount + freight_tax_amount;\n        \n        frm.set_value('custom_freight_amount', freight_amount);\n        frm.set_value('custom_total_freight_amount', total_freight_amount);\n        \n    }\n    \n});\n\nfrappe.ui.form.on('Purchase Receipt', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        let total_gstn_value = 0;\n         $.each(frm.doc.items, function(i, d) {\n             \n             total_gstn_value = parseFloat(total_gstn_value) + parseFloat(d['custom_gstn_value']);\n             console.log(d);\n             console.log(total_gstn_value);\n         });\n        \n        frm.set_value('custom_total_gstn', total_gstn_value);\n    },\n});\n\n\n\n\n\n\n\n\n\n\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Supplier",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.540102",
  "module": "o2o ErpNext",
  "name": "Supplier Master",
  "script": "frappe.ui.form.on('Supplier', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_branch\", function() {\n        return {\n            \"filters\": {\n                \"custom_child_branch\": 0,\n            }\n        };\n    });\n\t}\n})\n\nfunction custom_is_vendor(frm) {\n  \n                    if (custom_is_vendor = 0) {\n                        custom_branch = 1;\n                   \n                }\n            };\nfrappe.ui.form.on('Supplier', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button('Bank Account', 'Create');\n            frm.remove_custom_button('Pricing Rule', 'Create');\n            frm.remove_custom_button('Accounts Payable', 'View');\n            frm.remove_custom_button('Accounting Ledger', 'View');\n            frm.remove_custom_button('Get Supplier Group Details', 'Actions');\n        }, 10);\n    }\n});\n//Remove Form View Menu contents\nfrappe.ui.form.on('Supplier', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"New%20Supplier\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Receipt",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.210238",
  "module": "o2o ErpNext",
  "name": "Purchase_Receipt_Frieght_Calc",
  "script": "frappe.ui.form.on('Purchase Receipt', {\n    // Trigger on form refresh or save\n    refresh: function(frm) {\n        // Trigger when the document is saved\n        frm.add_custom_button(__('Calculate Charges'), function() {\n            calculate_freight_and_forwarding(frm);\n        });\n        \n    },\n    // Trigger when custom fields are changed\n    freight_charges: function(frm) {\n        calculate_freight_and_forwarding(frm);\n    },\n    custom_weight_in_kg: function(frm) {\n        calculate_freight_and_forwarding(frm);\n    },\n    custom_rate_per_kg: function(frm) {\n        calculate_freight_and_forwarding(frm);\n    }\n\n});\n\nfunction calculate_freight_and_forwarding(frm) {\n    // console.log(\"here\");\n    // Add your calculation logic here\n    let custom_weight_in_kg = frm.doc.custom_weight_in_kg || 0;\n    let custom_rate_per_kg = frm.doc.custom_rate_per_kg || 0;\n    let total_freight_charges = custom_weight_in_kg * custom_rate_per_kg;\n    let freight_cnt = 0;\n    // console.log(frm.doc)\n    if (frm.doc.taxes) {\n        $.each(frm.doc.taxes || [], function (j, tax) {\n            if (tax.account_head) {\n                \n                if (tax.account_head.includes('Freight and Forwarding Charges') && freight_cnt == 0) {\n                    // console.log(\"here\"+ tax.account_head + \"  =>\" + freight_cnt);\n                    frappe.model.set_value(tax.doctype, tax.name, 'tax_amount', total_freight_charges);\n                    frm.refresh_field('purchase_taxes_and_charges');\n                    freight_cnt++;\n                } \n            }\n        });\n        \n        // return false;\n        // console.log(item)\n        \n    }\n}",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Receipt",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.191710",
  "module": "o2o ErpNext",
  "name": "Purchase Receipt List View",
  "script": "frappe.listview_settings['Purchase Receipt'] = {\n    button: {\n        show: function(doc) {\n            return true;\n        },\n        get_label: function() {\n            return __('<i class=\"fa fa-print\" style=\"font-size:20px;color:black\"></i>');\n        },\n        get_description: function(doc) {\n            return __('Print {0}', [doc.name])\n        },\n        action: function(doc) {\n            //frappe.set_route(\"/app/print/Purchase Invoice/\" + doc.name);\n            \n            var objWindowOpenResult = window.open(frappe.urllib.get_full_url(\"/api/method/frappe.utils.print_format.download_pdf?\"\n              + \"doctype=\" + encodeURIComponent(\"Purchase Receipt\")\n              + \"&name=\" + encodeURIComponent(doc.name)\n              + \"&trigger_print=0\"\n              + \"&format=test delivery challan\"\n              + \"&no_letterhead=0\"\n              + \"&_lang=en\"\n            ));\n\n            if(!objWindowOpenResult) {\n              msgprint(__(\"Please set permission for pop-up windows in your browser!\")); return;\n            }\n        }\n    }\n}\n\n//List view menu contents remove\n// frappe.listview_settings['Purchase Receipt'] = {\n//     refresh(listview) {\n//         listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n//     }\n// }\nfrappe.listview_settings['Purchase Receipt'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n//Remove ID column from listing\nfrappe.listview_settings['Purchase Receipt'] = { // And other doctype names\n    hide_name_column: true\n}\n\n\n\n\n\n\n",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Order",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.558852",
  "module": "o2o ErpNext",
  "name": "Purchase Order List View",
  "script": "frappe.listview_settings['Purchase Order'] = {\n    button: {\n        show: function(doc) {\n            return true;\n        },\n        get_label: function() {\n            return __('<i class=\"fa fa-print\" style=\"font-size:18px;color:black\"></i>');\n        },\n        get_description: function(doc) {\n            return __('Print {0}', [doc.name])\n        },\n        action: function(doc) {\n            //frappe.set_route(\"/app/print/Purchase Invoice/\" + doc.name);\n            \n            var objWindowOpenResult = window.open(frappe.urllib.get_full_url(\"/api/method/frappe.utils.print_format.download_pdf?\"\n              + \"doctype=\" + encodeURIComponent(\"Purchase Order\")\n              + \"&name=\" + encodeURIComponent(doc.name)\n              + \"&trigger_print=0\"\n              + \"&format=test purchase order\"\n              + \"&no_letterhead=0\"\n              + \"&_lang=en\"\n            ));\n\n            if(!objWindowOpenResult) {\n              msgprint(__(\"Please set permission for pop-up windows in your browser!\")); return;\n            }\n        }\n    }\n}\n// frappe.listview_settings['Purchase Order'] = {\n//     refresh(listview) {\n//         listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n//     }\n// }\nfrappe.listview_settings['Purchase Order'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n\n// frappe.listview_settings['Purchase Order'] = { // And other doctype names\n//     hide_name_column: true\n// }\n",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Item",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.503025",
  "module": "o2o ErpNext",
  "name": "Item Master List View",
  "script": "frappe.listview_settings['Item'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Export\"],[data-label=\"Print\"],[data-label=\"add_tags\"]').parent().parent().remove()\n};\n\n//List view menu contents remove\nfrappe.listview_settings['Item'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Item'] = { // And other doctype names\n    hide_name_column: true\n}\nfrappe.listview_settings['Item'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Item Group",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.847564",
  "module": "o2o ErpNext",
  "name": "Item Group Master",
  "script": "//Remove form view menu contents\nfrappe.listview_settings['Item Group'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Item Group'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n\nfrappe.listview_settings['Item Group'] = { // And other doctype names\n    hide_item_group_name_column: true\n}",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Supplier",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.522104",
  "module": "o2o ErpNext",
  "name": "Supplier Master List View",
  "script": "frappe.listview_settings['Supplier'] = { // And other doctype names\n    hide_name_column: true\n}\n//List view menu contents remove\nfrappe.listview_settings['Supplier'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\n//Remove Action button menu contents\nfrappe.listview_settings['Supplier'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n\n\n",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Branch",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.135635",
  "module": "o2o ErpNext",
  "name": "Branch Master List View",
  "script": "frappe.listview_settings['Branch'] = { // And other doctype names\n    hide_name_column: true\n}\n//Remove form view menu contents\nfrappe.listview_settings['Branch'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Branch'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Item Group",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.482973",
  "module": "o2o ErpNext",
  "name": "Item Group",
  "script": "frappe.ui.form.on('Item Group', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button('Items');\n        }, 10);\n    }\n});\nfrappe.ui.form.on(\"Item Group\", \"validate\", function(frm) {\n    cur_frm.set_value(\"custom_created_user\", frm.doc.owner);\n});\n\n//Remove Form View Menu contents\nfrappe.ui.form.on('Item Group', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"New%20Item%20Group\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Item Price",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.119512",
  "module": "o2o ErpNext",
  "name": "Item Price List View",
  "script": "frappe.listview_settings['Item Price'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n        listview.page.find('[data-label=\"Dashboard\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Item Price'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Brand",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.086980",
  "module": "o2o ErpNext",
  "name": "Brand Master List View",
  "script": "//List view menu contents remove\nfrappe.listview_settings['Brand'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Brand'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "File",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.037036",
  "module": "o2o ErpNext",
  "name": "File Master List View",
  "script": "//List view menu contents remove\nfrappe.listview_settings['File'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"Home\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"New%20Folder\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import%20Zip\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['File'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export%20as%20zip\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Data Import",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.987375",
  "module": "o2o ErpNext",
  "name": "Data Import List View",
  "script": "//List view menu contents remove\nfrappe.listview_settings['Data Import'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Data Import'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "User",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.576602",
  "module": "o2o ErpNext",
  "name": "User Master List View",
  "script": "frappe.listview_settings['User'] = { // And other doctype names\n    hide_name_column: true\n}\n//Remove form view menu contents\nfrappe.listview_settings['User'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        // listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['User'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "User",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.227717",
  "module": "o2o ErpNext",
  "name": "User Master",
  "script": "frappe.ui.form.on('User', {\n    refresh(frm) {\n        setTimeout(() => {\n            // frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Set User Permissions','Permissions');\n            frm.remove_custom_button('View Permitted Documents','Permissions');\n            frm.remove_custom_button('Create User Email');\n            }, 10);\n    }\n});\n//Remove Form View Menu contents\nfrappe.ui.form.on('User', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Repeat\"],\\\n            [data-label=\"New%20User\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "User Permission",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.920644",
  "module": "o2o ErpNext",
  "name": "User Permission Master",
  "script": "frappe.ui.form.on('User Permission', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"New%20User%20Permission\"],\\\n            [data-label=\"Customize\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});\n\nfrappe.ui.form.on('User Permission', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button('View Permitted Documents');\n        }, 10);\n    }\n});\n\n\n\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Role Profile",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.881342",
  "module": "o2o ErpNext",
  "name": "Role Prpfile List View",
  "script": "frappe.listview_settings['Role Profile'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\nfrappe.listview_settings['Role Profile'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Item Price",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.103016",
  "module": "o2o ErpNext",
  "name": "Item Price Master",
  "script": "frappe.ui.form.on('Item Price', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Repeat\"],\\\n            [data-label=\"New%20Item%20Price\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Brand",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.053533",
  "module": "o2o ErpNext",
  "name": "Brand Master",
  "script": "frappe.ui.form.on('Brand', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "File",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.020114",
  "module": "o2o ErpNext",
  "name": "File Master",
  "script": "frappe.ui.form.on('File', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"New%20File\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Data Import",
  "enabled": 1,
  "modified": "2024-10-25 23:33:52.004100",
  "module": "o2o ErpNext",
  "name": "Data Import Master",
  "script": "//Remove Form View Menu contents\nfrappe.ui.form.on('Data Import', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"New%20Data%20Import\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Workspace",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.969652",
  "module": "o2o ErpNext",
  "name": "Workspace Master",
  "script": "frappe.ui.form.on('Purchase Order', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button(\"Edit\");\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Bank",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.953615",
  "module": "o2o ErpNext",
  "name": "Bank Master List View",
  "script": "frappe.listview_settings['Bank'] = { // And other doctype names\n    hide_custom_account_name_column: true\n}\n//List view menu contents remove\nfrappe.listview_settings['Bank'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Bank'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n\n\n",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Bank",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.936970",
  "module": "o2o ErpNext",
  "name": "Bank Master",
  "script": "frappe.ui.form.on('Bank', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"New%20Bank\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "User Permission",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.900955",
  "module": "o2o ErpNext",
  "name": "User Permission List View",
  "script": "frappe.listview_settings['User Permission'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\nfrappe.listview_settings['User Permission'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Role Profile",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.864224",
  "module": "o2o ErpNext",
  "name": "Role Profile",
  "script": "//Remove Form View Menu contents\nfrappe.ui.form.on('Role Profile', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"New%20Role%20Profile\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Gst Slab",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.812253",
  "module": "o2o ErpNext",
  "name": "GST Slab List View",
  "script": "frappe.listview_settings['Gst Slab'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Export\"]').parent().parent().remove()\n};\n//Remove form view menu contents\nfrappe.listview_settings['Gst Slab'] = {\n    refresh(listview) {\n        listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n        listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n    }\n}\nfrappe.listview_settings['Gst Slab'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Gst Slab",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.830655",
  "module": "o2o ErpNext",
  "name": "GST Slab",
  "script": "frappe.ui.form.on('Gst Slab', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Rename\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Stock Reconciliation",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.685804",
  "module": "o2o ErpNext",
  "name": "Stock Reconciliation",
  "script": "frappe.ui.form.on('Stock Reconciliation', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button('Fetch Items from Warehouse');\n            frm.remove_custom_button('Product Bundle', 'Get Items From');\n            frm.remove_custom_button('Accounting Ledger', 'View');\n        }, 10);\n    }\n});\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Stock Entry",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.794939",
  "module": "o2o ErpNext",
  "name": "Stock Entry",
  "script": "\nfrappe.ui.form.on('Stock Entry', {\n    refresh(frm) {\n        setTimeout(() => {\n            frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Purchase Invoice', 'Get Items From');\n            frm.remove_custom_button('Material Request', 'Get Items From');\n            frm.remove_custom_button('Bill of Materials', 'Get Items From');\n            frm.remove_custom_button('Expired Batches', 'Get Items From');\n            frm.remove_custom_button('Transit Entry', 'Get Items From');\n            frm.remove_custom_button('Material Request', 'Create');\n            frm.remove_custom_button('Accounting Ledger', 'View');\n        }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Homepage",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.340426",
  "module": "o2o ErpNext",
  "name": "Homepage",
  "script": "frappe.ui.form.on('Homepage', {\n    refresh(frm) {\n        setTimeout(() => {\n            // frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Stock Projected Qty', 'View');\n            }, 10);\n    }\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Invoice",
  "enabled": 1,
  "modified": "2024-10-25 23:33:50.997858",
  "module": "o2o ErpNext",
  "name": "Purchase invoice List View",
  "script": "frappe.listview_settings['Purchase Invoice'] = {\n    button: {\n        show: function(doc) {\n            return true;\n        },\n        get_label: function() {\n            return __('<i class=\"fa fa-print\" style=\"font-size:20px;color:red\"></i>');\n        },\n        get_description: function(doc) {\n            return __('Print {0}', [doc.name])\n        },\n        action: function(doc) {\n            //frappe.set_route(\"/app/print/Purchase Invoice/\" + doc.name);\n            \n            var objWindowOpenResult = window.open(frappe.urllib.get_full_url(\"/api/method/frappe.utils.print_format.download_pdf?\"\n              + \"doctype=\" + encodeURIComponent(\"Purchase Invoice\")\n              + \"&name=\" + encodeURIComponent(doc.name)\n              + \"&trigger_print=0\"\n              + \"&format=Without Header Final Purchase Invoice\"\n              + \"&no_letterhead=0\"\n              + \"&_lang=en\"\n            ));\n\n            if(!objWindowOpenResult) {\n              msgprint(__(\"Please set permission for pop-up windows in your browser!\")); return;\n            }\n        }\n    }\n}\n//List view menu contents remove\n// frappe.listview_settings['Purchase Invoice'] = {\n//     refresh(listview) {\n//         listview.page.menu.find('[data-label=\"User%20Permissions\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Role%20Permissions%20Manager\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Import\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"Toggle%20Sidebar\"]').parent().hide();\n//         listview.page.menu.find('[data-label=\"List%Settings\"]').parent().hide();\n//     }\n// }\nfrappe.listview_settings['Purchase Invoice'].onload = function(listview) {\n\t\tlistview.page.actions.find('[data-label=\"Edit\"],[data-label=\"Print\"],[data-label=\"Export\"],[data-label=\"Assign%20To\"],[data-label=\"Apply%20Assignment%20Rule\"],[data-label=\"Add%20Tags\"]').parent().parent().remove()\n};\n\n// Remove ID column from listing\n// frappe.listview_settings['Purchase Invoice'] = { // And other doctype names\n//     hide_name_column: true\n// }\n\n\n\n\n\n\n\n\n\n",
  "view": "List"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Invoice",
  "enabled": 1,
  "modified": "2024-10-25 23:33:51.173604",
  "module": "o2o ErpNext",
  "name": "Purchase invoice",
  "script": "frappe.ui.form.on('Purchase Invoice', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_vendor\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 1,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"supplier\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor\": 0,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"shipping_address\", function() {\n        return {\n            \"filters\": {\n                \"is_shipping_address\": 1,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"billing_address\", function() {\n        return {\n            \"filters\": {\n                \"is_primary_address\": 1,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\trefresh(frm) {\n\t\t// your code here\n\t\tfrm.set_query(\"custom_vendor_address\", function() {\n        return {\n            \"filters\": {\n                \"custom_is_vendor_address\": 1,\n            }\n        };\n    });\n\t}\n})\n\nfrappe.ui.form.on(\"Purchase Invoice Item\", \"custom_gstn_value\", function(frm, cdt, cdn) {\n\n   var items = frm.doc.custom_gstn_value\n   var total = 0\n   for(var i in items) {\n\ttotal = total + items[i].custom_gstn_value\n\t}\n\n\tfrm.set_value(\"custom_gst_28__ot\",total)\n});\n\n\nfrappe.ui.form.on('Purchase Invoice', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        // This function will run when the form is loaded\n        // You can initialize fields or set default values here if needed\n        let custom_vendor = frm.doc.custom_vendor;\n        if (custom_vendor) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = custom_vendor.substring(0, 5).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_vendor_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_vendor_code', '');\n        }\n    },\n    custom_vendor: function (frm) {\n        // This function triggers when `supplier_code` field is modified\n        let custom_vendor = frm.doc.custom_vendor;\n        if (custom_vendor) {\n            // Get the first 3 characters of the supplier_code\n            let codeSubstring = custom_vendor.substring(0, 5).toUpperCase();\n            \n            // Set the substring to another field or use it as needed\n            frm.set_value('custom_vendor_code', codeSubstring);\n        } else {\n            // Clear the substring field if supplier_code is empty\n            frm.set_value('custom_vendor_code', '');\n        }\n    }\n});\n\n\nfrappe.ui.form.on('Purchase Invoice', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n    },\n    onload: function (frm) {\n        if (!frm.doc.fiscal_year) {\n            // Fetch the current fiscal year based on the current date\n            frappe.call({\n                method: 'frappe.client.get_list',\n                args: {\n                    doctype: 'Fiscal Year',\n                    filters: {\n                        'year_start_date': ['<=', frappe.datetime.get_today()],\n                        'year_end_date': ['>=', frappe.datetime.get_today()]\n                    },\n                    fields: ['name']\n                },\n                callback: function(r) {\n                    if (r.message && r.message.length > 0) {\n                        var fiscal_year = r.message[0].name;\n                        var start_year = fiscal_year.split('-')[0];\n                        var end_year = fiscal_year.split('-')[1];\n                        display_fiscal_year = start_year.substring(2) + '-' + end_year.substring(2);    \n                        console.log(\"==>\" + fiscal_year)\n                        frm.set_value('custom_fiscal_year', display_fiscal_year);\n                    }\n                }\n            });\n        }\n    }\n});\n\nfrappe.ui.form.on('Purchase Invoice', {\n    is_return: function(frm) {\n        if (frm.doc.is_return == 1) {\n            frm.set_value('naming_series','DN./.{custom_fiscal_year}./.###');\n        } else{\n            frm.set_value('naming_series','{custom_vendor_code}./.{custom_fiscal_year}./.###');\n        }\n    }\n});\n\nfrappe.ui.form.on('Purchase Invoice', {\n    refresh(frm) {\n        setTimeout(() => {\n            // frm.remove_custom_button('Get Items From');\n            frm.remove_custom_button('Purchase Order', 'Get Items From');\n            frm.remove_custom_button('Purchase Receipt', 'Get Items From');\n            frm.remove_custom_button('Accounting Ledger', 'Preview');\n            frm.remove_custom_button('Payment Request', 'Create');\n            frm.remove_custom_button('Block Invoice', 'Create');\n            frm.remove_custom_button('Payment', 'Create');\n            // frm.remove_custom_button('Return / Debit Note', 'Create');\n            frm.remove_custom_button('Purchase Receipt', 'View');\n            frm.remove_custom_button('Accounting Ledger', 'View');\n        }, 10);\n    }\n});\n//Remove Form View Menu contents\nfrappe.ui.form.on('Purchase Invoice', {\n    refresh: function(frm) {\n        setTimeout( () => {\n            // frm.page.remove_inner_button('Print');\n            // frm.page.remove_inner_button('Customer', 'Create');\n            // frm.page.remove_inner_button('Quotation', 'Create');\n            // frm.page.remove_inner_button('Add to Prospect', 'Action');\n            frm.page.menu.find('[data-label=\"Create%20%3E%20Customer\"],\\\n            [data-label=\"Print\"],\\\n            [data-label=\"Email\"],\\\n            [data-label=\"Links\"],\\\n            [data-label=\"Jump%20to%20field\"],\\\n            [data-label=\"Duplicate\"],\\\n            [data-label=\"Send%20SMS\"],\\\n            [data-label=\"Copy%20to%20Clipboard\"],\\\n            [data-label=\"Reload\"],\\\n            [data-label=\"Delete\"],\\\n            [data-label=\"Remind%20Me\"],\\\n            [data-label=\"Undo\"],\\\n            [data-label=\"Redo\"],\\\n            [data-label=\"Repeat\"],\\\n            [data-label=\"New%20Purchase%20Invoice\"],\\\n            [data-label=\"Action%20%3E%20Add%20to%20Prospect\"]').parent().parent().remove();\n        }, 10);\n    }\n});\n\nfrappe.ui.form.on('Purchase Invoice', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n        let freight_amount = frm.doc.custom_freight_amount;\n        let freight_tax_amount = (freight_amount * 18) /100;\n        frm.set_value('custom_freight_taxes', freight_tax_amount);\n    },\n    onload: function (frm) {\n        let freight_amount = frm.doc.custom_freight_amount;\n        let freight_tax_amount = (freight_amount * 18) /100;\n        frm.set_value('custom_freight_taxes', freight_tax_amount);\n    },\n});\n\nfrappe.ui.form.on('Purchase Invoice', {\n    refresh: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n        let total_cgst = 0;\n        let total_sgst = 0;\n        let total_igst = 0;\n    \n        frm.doc.items.forEach(function(item_detail) {\n            if (item_detail.cgst_amount >0) {  \n                // Set both rate and amount to 0\n                total_cgst = parseFloat(total_cgst) + item_detail.cgst_amount;\n            }\n            \n            if (item_detail.sgst_amount >0) {  \n                // Set both rate and amount to 0\n                total_sgst = parseFloat(total_sgst) + item_detail.sgst_amount;\n            }\n            \n            if (item_detail.igst_amount >0) {  \n                // Set both rate and amount to 0\n                total_igst = parseFloat(total_igst) + item_detail.igst_amount;\n            }\n        \n        });\n        frm.set_value('custom_total_cgst', total_cgst);\n        frm.set_value('custom_total_sgst', total_sgst);\n        frm.set_value('custom_total_igst', total_igst);\n        \n    },\n    onload: function (frm) {\n        // This function will run when the form is refreshed\n        // You can initialize or manipulate fields here if needed\n        let total_cgst = 0;\n        let total_sgst = 0;\n        let total_igst = 0;\n    \n        frm.doc.items.forEach(function(item_detail) {\n            if (item_detail.cgst_amount >0) {  \n                // Set both rate and amount to 0\n                total_cgst = parseFloat(total_cgst) + item_detail.cgst_amount;\n            }\n            \n            if (item_detail.sgst_amount >0) {  \n                // Set both rate and amount to 0\n                total_sgst = parseFloat(total_sgst) + item_detail.sgst_amount;\n            }\n            \n            if (item_detail.igst_amount >0) {  \n                // Set both rate and amount to 0\n                total_igst = parseFloat(total_igst) + item_detail.igst_amount;\n            }\n        \n        });\n        frm.set_value('custom_total_cgst', total_cgst);\n        frm.set_value('custom_total_sgst', total_sgst);\n        frm.set_value('custom_total_igst', total_igst);\n    },\n});\n\n\n\n\n\n\n\n\n",
  "view": "Form"
 }
]